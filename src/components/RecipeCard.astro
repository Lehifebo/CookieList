
---
interface Recipe {
  slug: string;
  title: string;
  image: string;         // e.g. "/cookies/chocolate-chip.jpg"
  vegan: boolean;        // or change to string and adapt (see note below)
  price: string;
  description: string;
  ingredients: string[];
}

const { recipe } = Astro.props as { recipe: Recipe };
---


<article class="card" aria-label={`Recipe card: ${recipe.title}`}>
  <div class="thumb">
    <img
      src={`${import.meta.env.BASE_URL}${recipe.image}`}
      alt={recipe.title}
      loading="lazy"
      decoding="async"
    />
    {recipe.vegan && <span class="badge" aria-label="Vegan">De post</span>}
  </div>

  <header class="header">
    <h2 class="title">{recipe.title}</h2>
  </header>

  <p class="desc">{recipe.description}</p>

  {recipe.price && (
    <p class="price"><strong>Pret:</strong> {recipe.price}</p>
  )}
</article>

<style>
  :root {
    /* You can tweak these 6 tokens and the whole look will adjust */
    --card-bg: #f9f9fb;               /* soft fill behind content */
    --card-border: #dde1ea;           /* neutral border color */
    --card-text: #1b1f2a;
    --muted: #666a75;                 /* description text */
    --accent: #0f7b3e;                /* vegan badge color */
    --shadow: 0 6px 16px rgba(0,0,0,.06);
    --radius: 14px;
  }

  /* Optional dark-mode refinement */
  @media (prefers-color-scheme: dark) {
    :root {
      --card-bg: #1b1f28;
      --card-border: #2a3140;
      --card-text: #e8ebf2;
      --muted: #b2b7c1;
      --shadow: 0 6px 18px rgba(0,0,0,.35);
    }
  }

  .card {
    background: var(--card-bg);
    border: 1px solid var(--card-border);   /* <-- clear boundary */
    border-radius: var(--radius);
    box-shadow: var(--shadow);              /* soft lift to separate from page */
    overflow: hidden;
    display: grid;
    grid-template-rows: auto auto 1fr;
    transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    font-size: clamp(1rem, 0.95rem + 0.4vw, 1.15rem);
  }

  /* Add a tiny motion cue on hover (optional, remove if you want fully static) */
  .card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 28px rgba(0,0,0,.09);
    border-color: #cfd5e3;
  }

  .thumb {
    position: relative;
    aspect-ratio: 4 / 3;             /* keeps all cards the same height at top */
    background: #f1f3f9;
    overflow: hidden;
  }
  .thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transform: scale(1.15); 
    transition: transform .25s ease;
  }
  .card:hover .thumb img { transform: scale(1.30); }

  .badge {
    position: absolute;
    left: 12px;
    top: 12px;
    background: color-mix(in oklab, var(--accent) 85%, white);
    color: #063b1f;
    font-weight: 700;
    font-size: .72rem;
    letter-spacing: .04em;
    padding: .25rem .5rem;
    border-radius: 999px;
    box-shadow: 0 2px 10px rgba(0,0,0,.08);
  }

  .header { padding: 12px 14px 0 14px; }
  .title {
    margin: 0;  
    font-size: clamp(1.1em, 1em + 0.6vw, 1.4em);
    color: var(--card-text);
  }


  .desc {
    padding: 8px 14px 14px 14px; /* keep your padding */
    color: var(--muted);
    font-size: clamp(0.98em, 0.92em + 0.35vw, 1.2em);
    line-height: 1.55;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    min-height: 3.9em; /* you can also scale this with em if needed */
  }



  .price {
    display: inline-block;
    background: #ffe5a3;
    padding: 0.3rem 0.6rem;
    border-radius: 6px;
    font-weight: 600;
    margin-top: 0.5rem;
    color: #5a3d00;
  }

</style>
